{"version":3,"sources":["components/Person.jsx","components/Persons.jsx","components/Filter.jsx","components/PersonForm.jsx","components/Notification.jsx","services/person.js","App.js","index.js"],"names":["Person","person","deleteHandler","display","name","number","onClick","id","Persons","persons","map","key","Filter","handler","onChange","PersonForm","inputs","submit","onSubmit","input","text","value","type","styles","error","color","fontSize","border","width","padding","backgroundColor","margin","success","Notification","message","style","baseUrl","axios","get","then","response","data","newPerson","post","put","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setMessage","useEffect","personService","initialPersons","displayMessage","msg","msgType","content","setTimeout","event","target","filteredPersons","filter","p","toLowerCase","includes","preventDefault","length","window","confirm","updatedPerson","pe","concat","catch","deletedPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cea3d64f.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ person, deleteHandler }) => \n  person.display ? \n    <div>{person.name} {person.number} <button onClick={() => deleteHandler(person.id, person.name)}>Delete</button></div>\n  : null\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n \nconst Persons = ({ persons, deleteHandler }) => {\n  const rows = () => persons.map(person =>\n    <Person\n      key={person.id}\n      person={person}\n      deleteHandler={deleteHandler}\n    />\n  )\n  return <div>{rows()}</div>\n}\n\nexport default Persons","import React from 'react'\n\nconst Filter = ({handler}) => <div>filter: <input onChange={handler}/></div>\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({inputs, submit}) => {\n\n  const inputRows = () => inputs.map(input => \n    <div key={input.id}>{input.text}: <input value={input.value} onChange={input.handler}/></div>\n  )\n\n  return (\n    <form onSubmit={submit}>\n      {inputRows()}\n      <div><button type=\"submit\" >add</button></div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst styles = {\n  error: {\n    color: 'red',\n    fontSize: 16,\n    border: 'solid 1px black',\n    width: '100%',\n    padding: '3px',\n    backgroundColor: '#eaeaea',\n    margin: '5px'\n  },\n  success: {\n    color: 'green',\n    fontSize: 16,\n    border: 'solid 1px black',\n    width: '100%',\n    padding: '3px',\n    backgroundColor: '#eaeaea',\n    margin: '5px'\n  }\n}\n\nconst Notification = ({ message, type }) => \n  message === null ? null : \n    type === 'success' ? <div style={styles.success}>{message}</div> :\n    type === 'error' ? <div style={styles.error}>{message}</div> :\n    null\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newPerson => {\n  const request = axios.post(baseUrl, newPerson)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newPerson) => {\n  const request = axios.put(`${baseUrl}/${id}`, newPerson)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response)\n}\n\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\nimport personService from './services/person'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ message, setMessage ] = useState({})\n\n  useEffect(() => {\n    personService.getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  },[])\n\n  const handleNameInputChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberInputChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterPersons = (event) => {\n    const filteredPersons = persons.filter(p => p.name.toLowerCase().includes(event.target.value.toLowerCase()))\n    setPersons(persons.map(p => !filteredPersons.includes(p) ? { ...p, display: false } : { ...p, display: true }))\n  }\n\n  const handleDeletePerson = (id, name) => {\n    if (window.confirm(`Delete person ${name}?`)) {\n      personService.remove(id)\n        .then(deletedPerson => {\n          setPersons(persons.filter(p => p.id !== id))\n          displayMessage(`Person ${name} deleted`, 'success')\n        })\n    }\n  }\n\n  const displayMessage = (msg, msgType) => {\n    setMessage({ content: msg, type: msgType })\n    setTimeout(() => setMessage({}), 5000)\n  }\n\n  const inputs = [\n    { \n      text: 'name',\n      id: 1,\n      value: newName,\n      handler: handleNameInputChange \n    },\n    { \n      text: 'number',\n      id: 2,\n      value: newNumber,\n      handler: handleNumberInputChange \n    }\n  ]\n\n  const addNewPerson = (event) => {\n    event.preventDefault()\n\n    const filteredPersons = persons.filter(p => p.name === newName)\n    \n    if (filteredPersons.length > 0 && window.confirm(`This phonebook already includes ${newName}. Replace the person with new number?`)) {\n      filteredPersons.map(p => \n        personService.update(p.id, { \"id\": p.id, \"name\": newName, \"number\": newNumber, \"display\": true })\n          .then(updatedPerson => {\n            setPersons(persons.filter(pe => pe.id !== p.id).concat(updatedPerson))\n            setNewName('')\n            setNewNumber('')\n            displayMessage(`Person ${updatedPerson.name} updated`, 'success')\n          })\n          .catch(error => {\n            displayMessage(`Person ${newName} already deleted from server.`, 'error')\n            setPersons(persons.filter(pe => pe.id !== p.id))\n            setNewName('')\n            setNewNumber('')\n          })\n      )\n    } else {\n      personService.create({ name: newName, number: newNumber, display: true })\n        .then(person => {\n          setPersons(persons.concat(person))\n          setNewName('')\n          setNewNumber('')\n          displayMessage(`Added new person ${person.name}`, 'success')\n        })\n    }\n  }\n\n  return (\n    <div>\n      <Notification message={message.content} type={message.type} />\n      <h2>Phonebook</h2>\n      <Filter handler={handleFilterPersons} />\n      <br />\n      <h2>Add new person</h2>\n      <PersonForm inputs={inputs} submit={addNewPerson} />\n      <h2>Numbers</h2>\n      <Persons persons={persons} deleteHandler={handleDeletePerson}/>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'  // highlight-line\n\nReactDOM.render(<App/>, document.getElementById('root'))"],"sourceRoot":""}